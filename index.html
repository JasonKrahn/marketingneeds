<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <H2>Enter the Values</H2>
    
            <form>
                <H3>How would you rate the current level of  of your brand/business with your target market?</H3>
                <input id="s1-0" type="radio" name="question1" value="10"/><label for="s1-0">10</label>
                <input id="s2-0" type="radio" name="question1" value="20" /><label for="s2-0">20</label>
                <input id="s3-0" type="radio" name="question1" value="30" /><label for="s3-0">30</label>
                <input id="s4-0" type="radio" name="question1" value="40"/><label for="s4-0">40</label>
                <input id="s5-0" type="radio" name="question1" value="50" /><label for="s5-0">50</label>
                <input id="s6-0" type="radio" name="question1" value="60" /><label for="s6-0">60</label>
                <input id="s7-0" type="radio" name="question1" value="70"/><label for="s7-0">70</label>
                <input id="s8-0" type="radio" name="question1" value="80" /><label for="s8-0">80</label>
                <input id="s9-0" type="radio" name="question1" value="90" /><label for="s9-0">90</label>
                <input id="s10-0" type="radio" name="question1" value="100" /><label for="s10-0">100</label></br>
                <H3>Of those that are aware of your business, to what extent do you feel they understand the what and how of your business?</H3>
                <input id="s1-1" type="radio" name="question2" value="10"/><label for="s1-1">10</label>
                <input id="s2-1" type="radio" name="question2" value="20" /><label for="s2-1">20</label>
                <input id="s3-1" type="radio" name="question2" value="30" /><label for="s3-1">30</label>
                <input id="s4-1" type="radio" name="question2" value="40"/><label for="s4-1">40</label>
                <input id="s5-1" type="radio" name="question2" value="50" /><label for="s5-1">50</label>
                <input id="s6-1" type="radio" name="question2" value="60" /><label for="s6-1">60</label>
                <input id="s7-1" type="radio" name="question2" value="70"/><label for="s7-1">70</label>
                <input id="s8-1" type="radio" name="question2" value="80" /><label for="s8-1">80</label>
                <input id="s9-1" type="radio" name="question2" value="90" /><label for="s9-1">90</label>
                <input id="s10-1" type="radio" name="question2" value="100" /><label for="s10-1">100</label>
            </form>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
        <h1>
            <div style= "background-image: url(''); background-repeat: no-repeat; background-size: auto; width: 800px; height: 800px;">
                <canvas id="radarchart" height="800" width="800" style="display: block; height: 800px; width: 800px;">
            </div>
        </h1>

        <script>
            //----Question 1
            // Select all of the radio options for "question1"
            const question1Choices = document.querySelectorAll(`[name="question1"]`);
            // Assign an initial value to the "question1" score. If a radio option is selected it will use this value otherwise it will be 0.
            let question1 = document.querySelector(`[name="question1"]:checked`) ? parseInt(document.querySelector(`[name="question1"]:checked`).value) : 0;

            //----Question 2
            const question2Choices = document.querySelectorAll(`[name="question2"]`);
            // Assign an initial value to the "question2" score. If a radio option is selected it will use this value otherwise it will be 0.
            let question2 = document.querySelector(`[name="question2"]:checked`) ? parseInt(document.querySelector(`[name="question2"]:checked`).value) : 0;

            
            var ctx = document.getElementById("radarchart");
            var data = {
                labels: ['Exposure', 'Understanding', 'Connection', 'Value', 'Trust', 'Likability', 'Motivation', 'Desire', 'Effectiveness', 'Communication', 'Repeat Purchase', 'Retension', 'Referrers', 'Sales Engagement', 'Utility'],
                datasets: [{
                    label: "Marketing Coverage",
                    backgroundColor: "rgba(255,1,255, .2)",
                    borderColor: "#000",
                    pointBackgroundColor: "rgba(100%, 0%, 0%, 1)",
                    pointBorderColor: "#fff",
                    pointHoverBackgroundColor: "rgba(255,1,255, .9)",
                    pointHoverBorderColor: "#000)",
                    data: [
                        `${question1}`, // Initialize the value at the currently selected option on page load.
                        `${question2}`, 
                        25, 
                        90, 
                        60, 
                        55, 
                        50, 
                        50, 
                        50,
                        12,
                        60,
                        45,
                        10,
                        5,
                        90
                    ]
                }] 
            };
            var myRadarChart = new Chart(ctx, {
            type: 'radar',
            data: data,
            options: {
                scale: {
                    responsive: true,
                    ticks: {min: 0, max: 100},
                    ineArc: false,
                    pointLabels: {fontSize: 20},
                },
            scaleFontSize: 0,
            legend: {display: true},
            }
        });

        // The updateChart function takes an event, checks which array index of the data values needs updating, updates the value, then refreshes the chart.
        function updateChart(event) {
            dataPoint = parseInt(this.value);
            switch (this.name) {
                case 'question1':
                    myRadarChart.data.datasets[0].data[0] = dataPoint;
                    // addData(myRadarChart, this.name, dataPoint);
                    myRadarChart.update();
                    break;
                case 'question2':
                    myRadarChart.data.datasets[0].data[1] = dataPoint;
                    // addData(myRadarChart, this.name, dataPoint);
                    myRadarChart.update();
                    break;
                default:
            break;
            }
        };
        // Add an event listener for each "question1" radio button. If it changes then the updateChart function is fired off.
        [...question1Choices].forEach(option => {
            option.addEventListener('change', updateChart);
        });
        [...question2Choices].forEach(option => {
        option.addEventListener('change', updateChart);
        });

        </script>
    </body>
</html>